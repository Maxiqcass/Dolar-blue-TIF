<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Cotizaci√≥n D√≥lar Blue</title>
  <style>
    body { 
      font-family: Arial; 
      text-align: center; 
      margin-top: 50px; 

      /* Imagen de fondo */
      background-image: url('https://www.pagina12.com.ar/868255-dolar-blue-dolar-hoy-a-cuanto-cotizan-el-viernes-24-de-octub');
      background-size: cover;      
      background-position: center; 
      background-repeat: no-repeat; 
      color: white;                
    }

    input, button { 
      padding: 10px; 
      margin: 5px; 
      border-radius: 5px;
      border: none;
    }

    #resultado { 
      margin-top: 20px; 
      font-size: 1.2em; 
      background-color: rgba(0,0,0,0.4);
      display: inline-block;
      padding: 10px 20px;
      border-radius: 8px;
    }
  </style>
</head>
<body>
  <h1>üíµ Cotizaci√≥n del D√≥lar Blue</h1>
  <input type="password" id="secreto" placeholder="Palabra secreta"><br>
  <button id="btn">Consultar</button>
  <div id="resultado"></div>

  <script>
    const PALABRA_SECRETA = "quispe-cassaigne-298";

    document.getElementById("btn").addEventListener("click", async () => {
      const secreto = document.getElementById("secreto").value.trim();
      const resultado = document.getElementById("resultado");

      if (!secreto) {
        alert("Ingres√° la palabra secreta");
        return;
      }

      if (secreto !== PALABRA_SECRETA) {
        resultado.innerHTML = "<span style='color:red'>‚ùå Palabra secreta inv√°lida</span>";
        return;
      }

      resultado.innerHTML = "‚è≥ Obteniendo cotizaci√≥n...";

      try {
        const res = await fetch("https://dolarapi.com/v1/dolares/blue");
        const data = await res.json();
        const compra = data.compra;
        const venta = data.venta;
        const promedio = ((compra + venta)/2).toFixed(2);
        const fecha = new Date(data.fechaActualizacion).toLocaleString("es-AR");

        resultado.innerHTML = `
          üí∞ Compra: $${compra} <br>
          üíµ Venta: $${venta} <br>
          üìä Promedio: $${promedio} <br>
          üïì Fecha: ${fecha}
        `;
      } catch(e) {
        resultado.innerHTML = "<span style='color:red'>Error al obtener la cotizaci√≥n</span>";
        console.error(e);
      }
    });
  </script>
</body>
</html>



